# ğŸ“‹ ê²Œì‹œíŒ í¬íƒˆ ì‚¬ì´íŠ¸

## ğŸ“ í”„ë¡œì íŠ¸ ê°œìš”
ì´ í”„ë¡œì íŠ¸ëŠ” ê²Œì‹œíŒ í¬í„¸ ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. 

ê²Œì‹œíŒì˜ ì¢…ë¥˜ë¡œëŠ” ììœ  ê²Œì‹œíŒ, ë¬¸ì˜ ê²Œì‹œíŒ, ê°¤ëŸ¬ë¦¬ ê²Œì‹œíŒê³¼ ê³µì§€ì‚¬í•­ ì´ 4ê°œì˜ ê²Œì‹œíŒìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì„œë²„ë¥¼ 2ê°œë¥¼ ë‘ì–´ ì‚¬ìš©ì í˜ì´ì§€ì™€ ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ë‚˜ëˆ„ì–´ ì œì‘í–ˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ì í˜ì´ì§€ëŠ” SPA(Single Page Application)ë¡œ SpringBootì™€ Vue.jsë¥¼ í†µí•´ ì œì‘í–ˆìœ¼ë©°. ë°˜ë©´, ê´€ë¦¬ì í˜ì´ì§€ëŠ” MPA(Multi Page Application)ë¡œ SpringBootì™€ Thymeleafë¥¼ í†µí•´ ì œì‘í–ˆìŠµë‹ˆë‹¤.

## ğŸ’» ê²Œì‹œíŒ êµ¬ì¡°
+ **ê´€ë¦¬ì í˜ì´ì§€**

  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-07-03 á„‹á…©á„Œá…¥á†« 1 48 40](https://github.com/rooluDev/board-portal-project/assets/152958052/de163dde-e054-45a2-ab1a-9c24c66579ad)

+ **ì‚¬ìš©ì í˜ì´ì§€**

  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-07-03 á„‹á…©á„Œá…¥á†« 1 44 44](https://github.com/rooluDev/board-portal-project/assets/152958052/3be17fef-4c92-4e07-8611-d81a5cb7541a)


## ğŸ”— ê²Œì‹œíŒ í˜ì´ì§€ ë§í¬
+ **[ê´€ë¦¬ì í˜ì´ì§€](http://3.35.111.101:8082/login) (MPA ë²„ì „)**
 
> **ê´€ë¦¬ì ì•„ì´ë””:** admin  
> **ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸:** 1234
 
+ **[ì‚¬ìš©ì í˜ì´ì§€](http://3.35.111.101/) (SPA ë²„ì „)**

> **ì‚¬ìš©ì ì•„ì´ë””:** user  
> **ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸:** 1234

## ğŸ“š API ë¬¸ì„œ [(ë” ë³´ëŸ¬ê°€ê¸°)](https://documenter.getpostman.com/view/32925626/2sA3JRXyGT)

+ Postmanìœ¼ë¡œ ì‘ì„±í•œ REST API ë¬¸ì„œì…ë‹ˆë‹¤.


![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-07-03 á„‹á…©á„Œá…¥á†« 12 57 34](https://github.com/rooluDev/board-portal-project/assets/152958052/71e90744-543d-415b-a027-94109042d4da)


## ğŸ“º í™”ë©´
  + **ë©”ì¸ í˜ì´ì§€ ë° ë¡œê·¸ì¸**
  

https://github.com/rooluDev/board-portal-project/assets/152958052/a7594704-185f-46af-a8ab-c3975048afe6

  + **ê²Œì‹œë¬¼ ê²€ìƒ‰**


https://github.com/rooluDev/board-portal-project/assets/152958052/d1e4bd23-f7bd-4f99-948e-d6230cfc6082


  + **ê²Œì‹œíŒ ì‘ì„±**
  

https://github.com/rooluDev/board-portal-project/assets/152958052/d6bdab38-46f8-4d8b-aa4b-09945b361388


  + **ê²Œì‹œíŒ ìˆ˜ì •**

https://github.com/rooluDev/board-portal-project/assets/152958052/a27fb564-752d-4474-ae85-1f373fdb7843


  
  + **ëŒ“ê¸€ ë“±ë¡**


https://github.com/rooluDev/board-portal-project/assets/152958052/8b9cae92-1f60-4d93-84f9-7eb3df5dc3bf


  + **íŒŒì¼ ë‹¤ìš´ë¡œë“œ**
  

https://github.com/rooluDev/board-portal-project/assets/152958052/513d4a70-ab98-4436-8060-178c9e7edbed



## ğŸ’¡ ì£¼ìš” ê¸°ëŠ¥
+ ììœ ê²Œì‹œíŒ ì‘ì„±
  <details>
   <summary>ì½”ë“œ ë³´ê¸°(í¼ì¹˜ê¸°/ì ‘ê¸°)</summary>
  
    Controller
     ```
      @PostMapping("/board/free")
        public ResponseEntity addBoard(@Valid @ModelAttribute FreeBoardDto freeBoardDto,
                                       @RequestPart(name = "file", required = false) MultipartFile[] fileList,
                                       HttpServletRequest request) {
    
            ...
    
            return ResponseEntity.ok().build();
    
     ```
    DB Service
    ```
        /**
         * ììœ ê²Œì‹œë¬¼ ì¶”ê°€
         *
         * @param freeBoardDto ( category_id, author_type, author_id, title, content )
         */
        Long addBoard(FreeBoardDto freeBoardDto);
    ```
    Storage Service
    ```
        /**
         * Multipart File List DBì €ì¥ ë° ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥
         *
         * @param fileList ì €ì¥í•  íŒŒì¼ ë¦¬ìŠ¤íŠ¸
         * @param boardId ê²Œì‹œíŒ ë²ˆí˜¸
         * @param boardType ê²Œì‹œíŒ íƒ€ì…
         * @param thumbnail ì¸ë„¤ì¼ ì €ì¥ í• ì§€
         */
        void storageFileList(MultipartFile[] fileList, Long boardId, String boardType, boolean thumbnail);
    ```
    
    Repository
    ```
        /**
         * INSERT tb_free_board
         *
         * @param freeBoardDto ( category_id, author_type, author_id, title, content )
         */
        void insertBoard(FreeBoardDto freeBoardDto);
    ```
    
    [Controller ì „ì²´ ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/controller/FreeBoardController.java#L99-L130)
    
    [Storage Service ì „ì²´ ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/service/FileStorageServiceImpl.java#L25-L34)
  </details>

+ ììœ  ê²Œì‹œíŒ ìˆ˜ì •
  <details>
  <summary>ì½”ë“œ ë³´ê¸°(í¼ì¹˜ê¸°/ì ‘ê¸°)</summary>
   
   Controller
   ```
    /**
      * ììœ ê²Œì‹œíŒ ìˆ˜ì •
      *
      * @param boardId          PathVariable ( pk )
      * @param freeBoardDto     ìˆ˜ì •í•  ë°ì´í„°
      * @param fileList         ì¶”ê°€í•  íŒŒì¼
      * @param deleteFileIdList ì‚­ì œí•  íŒŒì¼ì˜ pk ë¦¬ìŠ¤íŠ¸
      * @param request          HttpServletRequest
      * @return null
      */
     @PutMapping("/board/free/{boardId}")
     public ResponseEntity modifyBoard(@PathVariable(name = "boardId") Long boardId,
                                       @Valid @ModelAttribute FreeBoardDto freeBoardDto,
                                       @RequestParam(name = "deleteFileIdList") List<Long> deleteFileIdList,
                                       @RequestPart(name = "file", required = false) MultipartFile[] fileList,
                                       HttpServletRequest request) {
 
         
         ...

         return ResponseEntity.ok().build();
    ```
    DB Service
    ```
    /**
     * ê²Œì‹œë¬¼ ìˆ˜ì •
     *
     * @param freeBoardDto ( categoryId, title, content, boardId )
     */
    void modifyBoard(FreeBoardDto freeBoardDto);
    ```
    Storage Service
    ```
    /**
     * ì¸ë„¤ì¼ DBì €ì¥ ë° ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥
     *
     * @param fileDto ì¸ë„¤ì¼ë¡œ ì €ì¥í•  FileDto
     */
    void storageThumbnail(FileDto fileDto);

    /**
     * íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ì‚­ì œ
     *
     * @param deleteFileIdList ì‚­ì œí•  íŒŒì¼ë“¤ì˜ pk ë¦¬ìŠ¤íŠ¸
     * @return ì¸ë„¤ì¼ë¡œ ë§Œë“  íŒŒì¼ ëŒ€ìƒì´ ì‚­ì œê°€ ë˜ì—ˆëŠ”ì§€
     */
    boolean deleteFileList(List<Long> deleteFileIdList);
    ```
    Mapper
    ```
    /**
     * UPDATE tb_free_board
     *
     * @param freeBoardDto ( categoryId, title, content, boardId )
     */
    void updateBoard(FreeBoardDto freeBoardDto);
    ```
    [Controller ì „ì²´ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/controller/FreeBoardController.java#L132-L171)

    [Storage Servie ì „ì²´ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/service/FileStorageServiceImpl.java#L36-L54)
  </details>

+ ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥ì†Œ ë³€ê²½ì— ëŒ€í•œ ìœ ì—°ì„± í™•ë³´
   <details>
    <summary>ì½”ë“œ ë³´ê¸°(í¼ì¹˜ê¸°/ì ‘ê¸°)</summary>
     ë¬¼ë¦¬ì  íŒŒì¼ì˜ ì €ì¥ ìœ„ì¹˜ ë³€ê²½ì— ëŒ€ì‘í•˜ê¸° ìœ„í•˜ì—¬ (local storage, cloud storage, NAS ë“±...) ë¬¼ë¦¬ì  íŒŒì¼ì„ ì €ì¥í•˜ëŠ” StorageService Interfaceì™€ metadataë¥¼ ì €ì¥í•˜ëŠ” FileService Interfaceë¥¼ ë¶„ë¦¬í•˜ê³  
     ìœ„ ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ì—¬ ì‘ë™í•˜ëŠ” FileStorageServiceë¥¼ ì‘ì„±í•´ ìœ ì—°ì„±ì„ í™•ë³´í•˜ì˜€ë‹¤.
   
    Metadata ì €ì¥ì†Œ
    ```
   /**
   * File Service Interface
   */
   public interface FileService {
   
       /**
        * File ë“±ë¡
        *
        * @param fileList DBì— ì €ì¥í•  File List
        * @param boardId  boardId ( pk )
        * @return ì €ì¥ëœ FileList
        */
       List<FileDto> addFileList(List<FileDto> fileList, Long boardId);

       ...
    ```

    ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥ì†Œ
    ```
   /**
    * Storage Service
    */
   public interface StorageService {
   
       /**
        * Multipart File ë¦¬ìŠ¤íŠ¸ ë¬¼ë¦¬ì  íŒŒì¼ ìƒì„±
        *
        * @param multipartFiles ì €ì¥í•  íŒŒì¼
        * @param boardType ë³´ë“œ íƒ€ì…
        * @return ì €ì¥ëœ íŒŒì¼ë“¤ FileDto ë¦¬ìŠ¤íŠ¸
        */
       List<FileDto> storageFileList(MultipartFile[] multipartFiles, String boardType);
   
       /**
        * FileDtoë¡œ ì¸ë„¤ì¼ ë¬¼ë¦¬ì  ìƒì„±
        *
        * @param fileDto ìƒì„±í•  ì›ë³¸ íŒŒì¼
        * @return ìƒì„±ëœ Thumbnailì˜ ê°ì²´
        */
       ThumbnailDto storageThumbnailFromFile(FileDto fileDto);
   }
   ```

   FileStorageService impl
   ```
   /**
    * FileStorageService Impl
    */
   @Service
   @RequiredArgsConstructor
   @Primary
   public class FileStorageServiceImpl implements FileStorageService {
   
       private final StorageService storageService;
       private final FileService fileService;
       private final ThumbnailService thumbnailService;

   ...
   ```

  [FileStorage Service ì „ì²´ ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/service/FileStorageServiceImpl.java)
  </details>

+ íŒŒì¼ ìƒì„± ë° ìˆ˜ì •ì‹œ ì¸ë„¤ì¼ ì‚­ì œ ë° ìƒì„±
  <details>
   <summary>ì½”ë“œ ë³´ê¸°(í¼ì¹˜ê¸°/ì ‘ê¸°)</summary>
   ì¸ë„¤ì¼ì´ í•„ìš”í•œ ê²Œì‹œíŒ(ê°¤ëŸ¬ë¦¬)ê³¼ ì¸ë„¤ì¼ì´ í•„ìš” ì—†ëŠ” ê²Œì‹œíŒ(ììœ  ê²Œì‹œíŒ) ë‘˜ ë‹¤ ì‚¬ìš©í•˜ëŠ” File Storage Serviceì—ì„œ ì¸ë„¤ì¼ì˜ ìƒì„± ìœ ë¬´ë¥¼ ì§ì ‘ ì£¼ì…í•´ì„œ ë‘˜ ë‹¤ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ì†Œë“œë¥¼ ìƒì„±í–ˆë‹¤.

   ì‚­ì œ ë©”ì†Œë“œ
   ```
   /**
     * íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ì‚­ì œ
     *
     * @param deleteFileIdList ì‚­ì œí•  íŒŒì¼ë“¤ì˜ pk ë¦¬ìŠ¤íŠ¸
     * @return ì¸ë„¤ì¼ë¡œ ë§Œë“  íŒŒì¼ ëŒ€ìƒì´ ì‚­ì œê°€ ë˜ì—ˆëŠ”ì§€
     */
    boolean deleteFileList(List<Long> deleteFileIdList);
   ```
   
   ìƒì„± ë©”ì†Œë“œ
   ```
   /**
     * Multipart File List DBì €ì¥ ë° ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥
     *
     * @param fileList ì €ì¥í•  íŒŒì¼ ë¦¬ìŠ¤íŠ¸
     * @param boardId ê²Œì‹œíŒ ë²ˆí˜¸
     * @param boardType ê²Œì‹œíŒ íƒ€ì…
     * @param thumbnail ì¸ë„¤ì¼ ì €ì¥ í• ì§€
     */
    void storageFileList(MultipartFile[] fileList, Long boardId, String boardType, boolean thumbnail);
   ```

   [FileStorageServiceImpl ì „ì²´ ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/service/FileStorageServiceImpl.java)
  </details>


+ JPA ë™ì ì¿¼ë¦¬ ì‘ì„±
  <details>
   <summary>ì½”ë“œ ë³´ê¸°(í¼ì¹˜ê¸°/ì ‘ê¸°)</summary>
   JPAì˜ Specificationê³¼ CriteriaBuilderë¥¼ í™œìš©í•˜ì—¬ ì¡°ê±´ë³„ Predicateë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ê³ , ê²€ìƒ‰ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” í•´ë‹¹ ì¡°ê±´ì„ ë¬´ì‹œí•˜ë„ë¡ êµ¬í˜„.

   ììœ  ê²Œì‹œíŒ Specification Class
   ```
   /**
     * ê²€ìƒ‰ì¡°ê±´ì„ í†µí•œ ì¿¼ë¦¬ ìƒì„±
     *
     * @param searchConditionDto ê²€ìƒ‰ ì¡°ê±´
     * @return ì¿¼ë¦¬
     */
    public static Specification<FreeBoard> findBySearchCondition(SearchConditionDto searchConditionDto) {
     ...
   ```
   
   FreeBoardRepository
   ```
   default Page<FreeBoard> findBySearchCondition(SearchConditionDto searchConditionDto) {
        Specification<FreeBoard> specification = FreeBoardSpecification.findBySearchCondition(searchConditionDto);
        Sort.Direction direction = Sort.Direction.fromString(searchConditionDto.getOrderDirection());
        String orderValue = searchConditionDto.getOrderValue() != null ? searchConditionDto.getOrderValue() : "createdAt";
        Pageable pageable = PageRequest.of(searchConditionDto.getPageNum() - 1, searchConditionDto.getPageSize(), direction, orderValue);
        return findAll(specification, pageable);
    }
   ```

   [FreeBoardSpecification ì „ì²´ ì½”ë“œ](https://github.com/rooluDev/board-portal-project/blob/main/user-page/backend/src/main/java/com/user/backend/specification/FreeBoardSpecification.java)
  </details>
## ğŸ—‚ ERD
![ERD](https://github.com/rooluDev/board-portal-project/assets/152958052/a2754673-1a6c-4915-85d6-b30e3e180a89)

+ ëŒ“ê¸€ê³¼ íŒŒì¼ í…Œì´ë¸”ì€ ììœ  ê²Œì‹œíŒ, ê°¤ëŸ¬ë¦¬ ê²Œì‹œíŒì— ì¢…ì†ì ì´ì§€ë§Œ ì™¸ë˜í‚¤ë¥¼ í†µí•´ ì ‘ê·¼ì„ í•˜ê²Œ ëœë‹¤ë©´ ëŒ“ê¸€ê³¼ ì²¨ë¶€íŒŒì¼ì´ ìˆëŠ” ê²Œì‹œíŒì´ ì¦ì„¤ë  ê²½ìš°ì— í™•ì¥ì„±ì´ ë†’ì§€ ì•Šë‹¤ê³  íŒë‹¨í•˜ì—¬ boardType(ê²Œì‹œíŒ ì¢…ë¥˜), boardId(ê²Œì‹œíŒ PK)ë¥¼ êµ¬ë¶„ìë¡œ ë‘ì–´ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

+ ììœ  ê²Œì‹œíŒ, ê°¤ëŸ¬ë¦¬ ê²Œì‹œíŒì€ ê´€ë¦¬ìì™€ ì‚¬ìš©ìê°€ ëª¨ë‘ ì‘ì„±ì´ ê°€ëŠ¥í•´ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ERDëŠ” ë©¤ë²„, ê´€ë¦¬ì í…Œì´ë¸”ì„ ë”°ë¡œ ë‘ì–´ ìœ„ì™€ ê°™ì´ authorType(ê¸€ì“´ì´ ìœ í˜•), authorId(ê¸€ì“´ì´ PK)ë¥¼ êµ¬ë¶„ìë¡œ ë‘ì–´ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

  
## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ
### ğŸ”§ ê´€ë¦¬ì í˜ì´ì§€(MPA)
![Thymeleaf](https://img.shields.io/badge/thymeleaf-005F0F?style=for-the-badge&logo=thymeleaf&logoColor=white)
![Spring Boot](https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)
![MyBatis](https://img.shields.io/badge/MyBatis-000000?style=for-the-badge&logo=MyBatis&logoColor=white)

### ğŸŒ ì‚¬ìš©ì í˜ì´ì§€(SPA)
![Vue.js](https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white)
![Spring Boot](https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)
![JPA](https://img.shields.io/badge/JPA-000000?style=for-the-badge&logoColor=white)

### ğŸ—„ DB
![MySQL](https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white)

### â˜ ì¸í”„ë¼
![Amazon EC2](https://img.shields.io/badge/amazonec2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white)
![Nginx](https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white)
